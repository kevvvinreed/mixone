{"version":3,"sources":["components/Gallery.js"],"names":["Gallery","useState","totalPosts","setTotalPosts","GalleryFeed","jsx","i","push","className","useEffect","a","axios","get","then","res","catch","err","console","log","media_id_list","extracted_media_id_list","length","style","opacity"],"mappings":"kNAiGeA,UA7FC,WAAO,IAAD,EACgBC,oBAAS,GADzB,mBACbC,EADa,KACDC,EADC,KAGdC,EAAc,WAElB,IADA,IAAIC,EAAM,GACDC,EAAI,EAAGA,EAAIJ,EAAYI,IAC9BD,EAAIE,KAAK,qBAAKC,UAAU,mBACpBF,EAAI,GAAK,GACXD,EAAIE,KAAK,qBAAKC,UAAU,gBAK5B,GAAIN,EAAa,GAAK,EACpB,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAa,EAAGI,IAClCD,EAAIE,KAAK,qBAAKC,UAAU,qBAG5B,OAAOH,GA2DT,OAVAI,oBAAS,sBAAC,8BAAAC,EAAA,sEA3CWC,IAChBC,IADgB,mEADjB,uKAKCC,MAAK,SAAAC,GACJ,OAAOA,KAERC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAmCR,OACFG,EADE,OAEFC,EAA0BD,EAAa,KAAb,WAChCF,QAAQC,IAAIC,GAEZhB,EAAciB,EAAwBC,QAL9B,2CASP,IAED,mCACE,qBAAKb,UAAU,iBAAf,SAIGN,EACC,cAACE,EAAD,IAEA,qBAAKkB,MAAO,CAAEC,QAAS,GAAvB","file":"static/js/10.e153f1f7.chunk.js","sourcesContent":["import './Gallery.css';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst Gallery = () => {\r\n  const [totalPosts, setTotalPosts] = useState(false);\r\n\r\n  const GalleryFeed = () => {\r\n    let jsx = [];\r\n    for (let i = 1; i < totalPosts; i++) {\r\n      jsx.push(<div className=\"img-container\"></div>);\r\n      if (i % 3 == 0) {\r\n        jsx.push(<div className=\"flex-break\"></div>);\r\n      }\r\n    }\r\n\r\n    // Create invisible boxes for proper visual element alignment\r\n    if (totalPosts % 3 != 0) {\r\n      for (let i = 0; i < totalPosts % 3; i++) {\r\n        jsx.push(<div className=\"img-placeholder\"></div>);\r\n      }\r\n    }\r\n    return jsx;\r\n  };\r\n\r\n  const GetMediaList = () => {\r\n    const access_token =\r\n      'IGQVJWTlBqWm9CbjVDWFFTLTZASN24xX09HbDI5UkswVktWMVBGY21tS3IyVUl5QU50VWVDaUNyNEkxX0p1SkxTNTFmeF9RR0hlem5tbVZATbG1PZAnR5UkZAaUmp0Q3pJSTNGckZA4ZA3M1U3V6RnBGOXdjRgZDZD';\r\n    const media_list = axios\r\n      .get(\r\n        `https://graph.instagram.com/me?fields=media&access_token=${access_token}`\r\n      )\r\n      .then(res => {\r\n        return res;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    return media_list;\r\n  };\r\n\r\n  // Uses too many requests, try a different way\r\n  const GetPosts = async media_id_list => {\r\n    // console.log(media_id_list);\r\n    let media_urls = [];\r\n    for (let i = 0; i < media_id_list.length; i++) {\r\n      //oEmbed https://developers.facebook.com/docs/instagram/oembed/#access-tokens\r\n      // GET oEmbed URLs to pass into below\r\n      //https://www.instagram.com/mixone\r\n      //let post_url = 'https://www.instagram.com/p/CGh-iWDJ2DE/'\r\n      //const oembed_token = '840962113296383|2ad65dff9c5fc416125e8f79e8892a4d'\r\n      //https://graph.facebook.com/v10.0/instagram_oembed?url=${post_url}&access_token=${oembed_token}\r\n      //IGQVJWTlBqWm9CbjVDWFFTLTZASN24xX09HbDI5UkswVktWMVBGY21tS3IyVUl5QU50VWVDaUNyNEkxX0p1SkxTNTFmeF9RR0hlem5tbVZATbG1PZAnR5UkZAaUmp0Q3pJSTNGckZA4ZA3M1U3V6RnBGOXdjRgZDZD\r\n      //`https://graph.instagram.com/${media_id_list[i]}?fields=media_url&access_token=${access_token}`\r\n      const access_token =\r\n        'IGQVJWTlBqWm9CbjVDWFFTLTZASN24xX09HbDI5UkswVktWMVBGY21tS3IyVUl5QU50VWVDaUNyNEkxX0p1SkxTNTFmeF9RR0hlem5tbVZATbG1PZAnR5UkZAaUmp0Q3pJSTNGckZA4ZA3M1U3V6RnBGOXdjRgZDZD';\r\n      const media_url = await axios\r\n        .get(\r\n          `https://graph.instagram.com/${media_id_list[i]['id']}?fields=media_url&access_token=${access_token}`\r\n        )\r\n        .then(res => {\r\n          return res;\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n      media_urls.push(media_url['data']['media_url']);\r\n    }\r\n    return media_urls;\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const media_id_list = await GetMediaList();\r\n    const extracted_media_id_list = media_id_list['data']['media']['data'];\r\n    console.log(media_id_list);\r\n    // setResData(media_id_list);\r\n    setTotalPosts(extracted_media_id_list.length);\r\n\r\n    // const media_url_list = await GetPosts(extracted_media_id_list);\r\n    // console.log(media_url_list);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div className=\"page-container\">\r\n        {/* <div>\r\n          <p style={{ color: 'white' }}>{resData}</p>\r\n        </div> */}\r\n        {totalPosts ? (\r\n          <GalleryFeed />\r\n        ) : (\r\n          <div style={{ opacity: 0 }}>Not loaded</div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n"],"sourceRoot":""}